import{K as O,p as g,L as k,M as G,N,c as f,O as R,P as E,Q as K,R as h,S as A,T as M,F as z,U as C,v as W,V as B,W as j,X as b,Y as $,Z as H,$ as Q,a0 as T,a1 as m,a2 as V}from"./entry.9c0e72e9.js";import{b as X}from"./use-resolve-button-type.fbd3efc3.js";let Y=O({props:{onFocus:{type:Function,required:!0}},setup(a){let u=g(!0);return()=>u.value?k(N,{as:"button",type:"button",features:G.Focusable,onFocus(i){i.preventDefault();let s,t=50;function l(){var o;if(t--<=0){s&&cancelAnimationFrame(s);return}if((o=a.onFocus)!=null&&o.call(a)){u.value=!1,cancelAnimationFrame(s);return}s=requestAnimationFrame(l)}s=requestAnimationFrame(l)}}):null}}),U=Symbol("TabsContext");function w(a){let u=B(U,null);if(u===null){let i=new Error(`<${a} /> is missing a parent <TabGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(i,w),i}return u}let L=Symbol("TabsSSRContext"),_=O({name:"TabGroup",emits:{change:a=>!0},props:{as:{type:[Object,String],default:"template"},selectedIndex:{type:[Number],default:null},defaultIndex:{type:[Number],default:0},vertical:{type:[Boolean],default:!1},manual:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(a,{slots:u,attrs:i,emit:s}){let t=g(null),l=g([]),o=g([]),P=f(()=>a.selectedIndex!==null),x=f(()=>P.value?a.selectedIndex:t.value),v={selectedIndex:f(()=>{var n,r;return(r=(n=t.value)!=null?n:a.defaultIndex)!=null?r:null}),orientation:f(()=>a.vertical?"vertical":"horizontal"),activation:f(()=>a.manual?"manual":"auto"),tabs:l,panels:o,setSelectedIndex(n){x.value!==n&&s("change",n),P.value||(t.value=n)},registerTab(n){l.value.includes(n)||l.value.push(n)},unregisterTab(n){let r=l.value.indexOf(n);r!==-1&&l.value.splice(r,1)},registerPanel(n){o.value.includes(n)||o.value.push(n)},unregisterPanel(n){let r=o.value.indexOf(n);r!==-1&&o.value.splice(r,1)}};R(U,v);let d=g({tabs:[],panels:[]}),I=g(!1);return E(()=>{I.value=!0}),R(L,f(()=>I.value?null:d.value)),K(()=>{var n;if(v.tabs.value.length<=0||a.selectedIndex===null&&t.value!==null)return;let r=v.tabs.value.map(e=>h(e)).filter(Boolean),c=r.filter(e=>!e.hasAttribute("disabled")),S=(n=a.selectedIndex)!=null?n:a.defaultIndex;if(S<0)t.value=r.indexOf(c[0]);else if(S>v.tabs.value.length)t.value=r.indexOf(c[c.length-1]);else{let e=r.slice(0,S),p=[...r.slice(S),...e].find(y=>c.includes(y));if(!p)return;t.value=r.indexOf(p)}}),()=>{let n={selectedIndex:t.value};return k(z,[l.value.length<=0&&k(Y,{onFocus:()=>{for(let r of l.value){let c=h(r);if((c==null?void 0:c.tabIndex)===0)return c.focus(),!0}return!1}}),A({theirProps:{...i,...M(a,["selectedIndex","defaultIndex","manual","vertical","onChange"])},ourProps:{},slot:n,slots:u,attrs:i,name:"TabGroup"})])}}}),ee=O({name:"TabList",props:{as:{type:[Object,String],default:"div"}},setup(a,{attrs:u,slots:i}){let s=w("TabList");return()=>{let t={selectedIndex:s.selectedIndex.value},l={role:"tablist","aria-orientation":s.orientation.value};return A({ourProps:l,theirProps:a,slot:t,attrs:u,slots:i,name:"TabList"})}}}),te=O({name:"Tab",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:()=>`headlessui-tabs-tab-${C()}`}},setup(a,{attrs:u,slots:i,expose:s}){let t=w("Tab"),l=g(null);s({el:l,$el:l}),E(()=>t.registerTab(l)),W(()=>t.unregisterTab(l));let o=B(L),P=f(()=>{if(o.value){let e=o.value.tabs.indexOf(a.id);return e===-1?o.value.tabs.push(a.id)-1:e}return-1}),x=f(()=>{let e=t.tabs.value.indexOf(l);return e===-1?P.value:e}),v=f(()=>x.value===t.selectedIndex.value);function d(e){var p;let y=e();if(y===$.Success&&t.activation.value==="auto"){let D=(p=Q(l))==null?void 0:p.activeElement,F=t.tabs.value.findIndex(q=>h(q)===D);F!==-1&&t.setSelectedIndex(F)}return y}function I(e){let p=t.tabs.value.map(y=>h(y)).filter(Boolean);if(e.key===b.Space||e.key===b.Enter){e.preventDefault(),e.stopPropagation(),t.setSelectedIndex(x.value);return}switch(e.key){case b.Home:case b.PageUp:return e.preventDefault(),e.stopPropagation(),d(()=>T(p,m.First));case b.End:case b.PageDown:return e.preventDefault(),e.stopPropagation(),d(()=>T(p,m.Last))}if(d(()=>V(t.orientation.value,{vertical(){return e.key===b.ArrowUp?T(p,m.Previous|m.WrapAround):e.key===b.ArrowDown?T(p,m.Next|m.WrapAround):$.Error},horizontal(){return e.key===b.ArrowLeft?T(p,m.Previous|m.WrapAround):e.key===b.ArrowRight?T(p,m.Next|m.WrapAround):$.Error}}))===$.Success)return e.preventDefault()}let n=g(!1);function r(){var e;n.value||(n.value=!0,!a.disabled&&((e=h(l))==null||e.focus(),t.setSelectedIndex(x.value),H(()=>{n.value=!1})))}function c(e){e.preventDefault()}let S=X(f(()=>({as:a.as,type:u.type})),l);return()=>{var e;let p={selected:v.value},{id:y,...D}=a,F={ref:l,onKeydown:I,onMousedown:c,onClick:r,id:y,role:"tab",type:S.value,"aria-controls":(e=h(t.panels.value[x.value]))==null?void 0:e.id,"aria-selected":v.value,tabIndex:v.value?0:-1,disabled:a.disabled?!0:void 0};return A({ourProps:F,theirProps:D,slot:p,attrs:u,slots:i,name:"Tab"})}}}),ae=O({name:"TabPanels",props:{as:{type:[Object,String],default:"div"}},setup(a,{slots:u,attrs:i}){let s=w("TabPanels");return()=>{let t={selectedIndex:s.selectedIndex.value};return A({theirProps:a,ourProps:{},slot:t,attrs:i,slots:u,name:"TabPanels"})}}}),le=O({name:"TabPanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:()=>`headlessui-tabs-panel-${C()}`}},setup(a,{attrs:u,slots:i,expose:s}){let t=w("TabPanel"),l=g(null);s({el:l,$el:l}),E(()=>t.registerPanel(l)),W(()=>t.unregisterPanel(l));let o=B(L),P=f(()=>{if(o.value){let d=o.value.panels.indexOf(a.id);return d===-1?o.value.panels.push(a.id)-1:d}return-1}),x=f(()=>{let d=t.panels.value.indexOf(l);return d===-1?P.value:d}),v=f(()=>x.value===t.selectedIndex.value);return()=>{var d;let I={selected:v.value},{id:n,...r}=a,c={ref:l,id:n,role:"tabpanel","aria-labelledby":(d=h(t.tabs.value[x.value]))==null?void 0:d.id,tabIndex:v.value?0:-1};return!v.value&&a.unmount&&!a.static?k(N,{as:"span",...c}):A({ourProps:c,theirProps:r,slot:I,attrs:u,slots:i,features:j.Static|j.RenderStrategy,visible:v.value,name:"TabPanel"})}}});export{ae as b,te as c,_ as d,ee as f,le as p};
