import{p as m,P as V,aa as A,ab as S,o as h,A as U,ac as T,i as C,m as M,D as B,f as P,a as E,b as e,d as a,w as n,e as c,t as $,u as l,j,J as I,n as N,_ as q,ad as D,ae as O,af as z,k as f,E as g,H as F,ag as H}from"./entry.9c0e72e9.js";import{T as L}from"./TosText.23a3c7c6.js";import{_ as G}from"./StateButton.7f36f2aa.js";import{l as J}from"./logo-black.82f51b60.js";import"./_plugin-vue_export-helper.a1a6add7.js";const K={__name:"Turnstile",props:{modelValue:{type:String},element:{type:String,default:"div"},siteKey:{type:String,required:!1},options:{type:Object}},emits:["update:modelValue"],setup(_,{expose:v,emit:u}){const i=_,r=m(null);let s;async function p(){await window.turnstile.reset(r.value),u("update:modelValue",null)}return v({reset:p}),V(async()=>{await A(),await window.turnstile.render(r.value,{sitekey:"0x4AAAAAAABrB5UVl-sETCaP",...i.options,callback:d=>u("update:modelValue",d)}),s=setInterval(p,1e3*250)}),S(()=>clearInterval(s)),(d,x)=>(h(),U(T(_.element),{ref_key:"el",ref:r},null,512))}},Y={class:"mx-auto w-full max-w-sm lg:w-96"},Q=["src"],R=e("h2",{class:"mt-6 text-3xl font-bold tracking-tight text-gray-900"},"Sign up for Minefort.com",-1),W={class:"mt-2 text-sm text-gray-600"},X=e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1),Z={class:"fixed inset-0 z-10 overflow-y-auto"},ee={class:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},se={class:"mt-8"},te={class:"mt-6"},ae=e("label",{for:"email",class:"block text-sm font-medium text-gray-700"},"Email address",-1),oe={class:"mt-1"},le={class:"space-y-1"},ne=e("label",{for:"password",class:"block text-sm font-medium text-gray-700"},"Password",-1),re={class:"mt-1"},ie={class:"space-y-1"},de=e("label",{for:"confirm_password",class:"block text-sm font-medium text-gray-700"},"Confirm password",-1),ce={class:"mt-1"},me={class:"space-y-1"},ue={class:"flex items-center justify-between"},pe={class:"flex items-center"},fe=e("label",{for:"marketing-accept",class:"ml-2 block text-sm text-gray-900"},"Yes, I'd like to receive news and offers from Minefort.",-1),ge={class:"space-y-1"},_e={class:"flex items-center justify-between"},ve={class:"flex items-center"},xe={for:"tos-accept",class:"ml-2 block text-sm text-gray-900"},we={class:"space-y-1 flex flex-col items-center"},Ae={__name:"register",setup(_){C({title:"Create your Minefort account"});const{$dataLayer:v}=M();let u=B();const i=m({tos:!1}),r=m({submit:!1}),s=m({emailAddress:"",password:"",confirmPassword:"",captcha:null,marketing:!1,tos:!1}),p=m(),d=P("landing-email");d.value!==void 0&&(s.value.emailAddress=d.value);async function x(){r.value.submit=!0;try{await I({method:"POST",url:"/v1/auth/register",withCredentials:!0,data:{emailAddress:s.value.emailAddress,password:s.value.password,captcha:s.value.captcha,marketing:s.value.marketing}}),await u.updateUser(),v.push({event:"user_register"}),await N("/servers/create")}catch{}r.value.submit=!1}return(b,t)=>{const w=q,y=D,k=K;return h(),E("div",Y,[e("div",null,[a(w,{to:"/"},{default:n(()=>[e("img",{class:"h-8 w-auto",src:l(J),alt:"Minefort.com"},null,8,Q)]),_:1}),R,e("p",W,[c(" Or "+$(" ")+" "),a(w,{to:"/login",class:"font-medium text-indigo-600 hover:text-indigo-500"},{default:n(()=>[c("login with your existing account ")]),_:1})])]),a(y,null,{default:n(()=>[a(l(O),{as:"div",class:"relative z-10",open:i.value.tos,onClose:t[0]||(t[0]=o=>i.value.tos=!1)},{default:n(()=>[X,e("div",Z,[e("div",ee,[a(l(z),{class:"relative transform overflow-hidden rounded-lg bg-white px-4 pt-5 pb-4 text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-screen-2xl sm:p-"},{default:n(()=>[a(L)]),_:1})])])]),_:1},8,["open"])]),_:1}),e("div",se,[e("div",te,[a(l(j),{onSubmit:t[8]||(t[8]=o=>x()),class:"space-y-6"},{default:n(()=>[e("div",null,[ae,e("div",oe,[a(l(f),{modelValue:s.value.emailAddress,"onUpdate:modelValue":t[1]||(t[1]=o=>s.value.emailAddress=o),modelModifiers:{trim:!0},rules:"required|email",id:"email",name:"email address",type:"email",autocomplete:"email",class:"block w-full appearance-none rounded-md border border-gray-300 px-3 py-2 placeholder-gray-400 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 sm:text-sm"},null,8,["modelValue"]),a(l(g),{name:"email address",as:"p",class:"mt-1 text-sm text-red-600"})])]),e("div",le,[ne,e("div",re,[a(l(f),{modelValue:s.value.password,"onUpdate:modelValue":t[2]||(t[2]=o=>s.value.password=o),rules:"required",id:"password",name:"password",type:"password",autocomplete:"current-password",class:"block w-full appearance-none rounded-md border border-gray-300 px-3 py-2 placeholder-gray-400 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 sm:text-sm"},null,8,["modelValue"]),a(l(g),{name:"password",as:"p",class:"mt-1 text-sm text-red-600"})])]),e("div",ie,[de,e("div",ce,[a(l(f),{modelValue:s.value.confirmPassword,"onUpdate:modelValue":t[3]||(t[3]=o=>s.value.confirmPassword=o),rules:"required|confirmed:@password",id:"confirmation",name:"password confirmation",type:"password",autocomplete:"current-password",class:"block w-full appearance-none rounded-md border border-gray-300 px-3 py-2 placeholder-gray-400 shadow-sm focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 sm:text-sm"},null,8,["modelValue"]),a(l(g),{name:"password confirmation",as:"p",class:"mt-1 text-sm text-red-600"})])]),e("div",me,[e("div",ue,[e("div",pe,[F(e("input",{"onUpdate:modelValue":t[4]||(t[4]=o=>s.value.marketing=o),id:"marketing-accept",name:"marketing-accept",type:"checkbox",class:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,512),[[H,s.value.marketing]]),fe])])]),e("div",ge,[e("div",_e,[e("div",ve,[a(l(f),{modelValue:s.value.tos,"onUpdate:modelValue":t[5]||(t[5]=o=>s.value.tos=o),rules:{is:!0},id:"tos-accept",name:"terms of service",type:"checkbox",class:"h-4 w-4 rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"},null,8,["modelValue"]),e("label",xe,[c("I confirm that I read and agree to the "),e("span",{class:"font-medium text-indigo-600 hover:text-indigo-500 cursor-pointer",onClick:t[6]||(t[6]=o=>i.value.tos=!i.value.tos)},"Terms of Service"),c(". ")])])]),a(l(g),{name:"terms of service",as:"p",class:"mt-1 text-sm text-red-600"})]),e("div",we,[a(y,null,{default:n(()=>[a(k,{ref_key:"captcha",ref:p,modelValue:s.value.captcha,"onUpdate:modelValue":t[7]||(t[7]=o=>s.value.captcha=o)},null,8,["modelValue"])]),_:1})]),e("div",null,[a(G,{class:"w-full rounded-md bg-indigo-600 p-2 h-9 text-sm font-medium text-white hover:bg-indigo-700",loading:r.value.submit},{default:n(()=>[c(" Sign Up ")]),_:1},8,["loading"])])]),_:1})])])])}}};export{Ae as default};
